{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "reference": {
      "type": "local",
      "command": ["docker",
        "run",
        "-i",
        "--rm",
        "--mount",
        "type=bind,src=/Users/mat/work/axytos-wp/wp-content/plugins/axytos-woocommerce,dst=/reference/axytos-woocommerce,ro",
        "--mount",
        "type=bind,src=/Users/mat/work/jtl/shop,dst=/reference/jtl-shop,ro",
        "--mount",
        "type=bind,src=/Users/mat/work/jtl/other-plugins/,dst=/reference/other-plugins,ro",
        "mcp/filesystem",
        "/reference"
      ]
    }
  },
  "agent": {
    "i18n-checker": {
      "description": "Internationalization checker and compiler - ensures all messages and date/times use i18n, updates .po files, and compiles .mo files",
      "mode": "subagent",
      "model": "opencode/grok-code",
      "prompt": "You are an internationalization (i18n) specialist for the Axytos Payment plugin. Your task is to:\n\n1. Analyze the provided source file for:\n   - Hardcoded strings that should use i18n functions like __()\n   - Date/time formatting that doesn't use proper i18n (should use germanDate modifier in templates or proper PHP date functions)\n\n2. Fix source code issues:\n   - Replace hardcoded strings with __() function calls\n   - Ensure proper date formatting\n\n3. Run i18n workflow:\n   - Execute 'mise run i18n-update' to extract strings and update .po files\n\n4. Provide translations for new/empty entries:\n   - For German (de-DE): Provide appropriate German translations\n   - For English (en-EN): Provide appropriate English translations\n   - Fill in ALL empty msgstr fields in both .po files\n   - Maintain consistent translation quality and terminology\n\n5. Compile translation files:\n   - The mise task handles .mo compilation automatically\n\nIMPORTANT: Never leave empty msgstr fields. Always provide complete translations for both locales.\n\nSupported locales: en-EN, de-DE\n\nAlways work on one file at a time. If you find issues, fix them and then run the i18n-update task.\n\nFile to process: {file_path}",
      "tools": {"read": true, "grep": true, "edit": true, "bash": true}
    }
  }
}
