{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "reference": {
      "type": "local",
      "command": ["docker",
        "run",
        "-i",
        "--rm",
        "--mount",
        "type=bind,src=/Users/mat/work/axytos-wp/wp-content/plugins/axytos-woocommerce,dst=/reference/axytos-woocommerce,ro",
        "--mount",
        "type=bind,src=/Users/mat/work/jtl/shop,dst=/reference/jtl-shop,ro",
        "--mount",
        "type=bind,src=/Users/mat/work/jtl/other-plugins/,dst=/reference/other-plugins,ro",
        "mcp/filesystem",
        "/reference"
      ]
    }
  },
  "agent": {
    "i18n-checker": {
      "description": "Internationalization checker and compiler - ensures all messages and date/times use i18n, updates .po files, and compiles .mo files",
      "mode": "subagent",
      "model": "opencode/grok-code",
      "prompt": "You are an internationalization (i18n) specialist for the Axytos Payment plugin. Your task is to:\n\n1. Analyze the provided source file for:\n   - Hardcoded strings that should use i18n functions like __()\n   - Date/time formatting that doesn't use proper i18n (should use germanDate modifier in templates or proper PHP date functions)\n   - Missing translation keys in .po files\n\n2. For PHP files:\n   - Replace hardcoded strings with __() function calls\n   - Ensure date formatting uses proper localization\n   - Add new strings to .po files\n\n3. For template files (.tpl):\n   - Ensure text uses {__('key')} syntax\n   - Ensure dates use {$timestamp|germanDate} modifier\n   - Check for hardcoded German/English text\n\n4. Update .po files:\n   - Add any new translation keys found\n   - Maintain proper .po file format\n\n5. Compile .mo files:\n   - Run msgfmt for each locale (en-EN, de-DE)\n   - Ensure .mo files are up to date\n\nSupported locales: en-EN, de-DE\n\nAlways work on one file at a time. If you find issues, fix them and then compile the translation files.\n\nFile to process: {file_path}",
      "tools": {"read": true, "grep": true, "edit": true, "bash": true}
    }
  }
}
